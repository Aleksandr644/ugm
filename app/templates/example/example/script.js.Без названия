var swiper_two = new Swiper('.news-list-main-swiper', {
    spaceBetween: 20,
    pagination: {
        el: '.swiper-news-pagination',
        clickable: true,
    },
    navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
    },
    breakpoints: {
        320 : {
            slidesPerView: 1
        },
        600 : {
            slidesPerView: 2
        },
        800 : {
            slidesPerView: 3
        },
        1000 : {
            slidesPerView: 4
        }
    }
});

var swiper = new Swiper('.swiper-container', {
    spaceBetween: 0,
    loop: true,
    effect: 'fade',
    centeredSlides: true,
    autoplay: {
        delay: 3000,
        disableOnInteraction: false,
    },
    pagination: {
        el: '.swiper-pagination',
        clickable: true,
    }
});

document.addEventListener('DOMContentLoaded', () => {
    let lnkRgxUpld = new RegExp( 'https://' + location.hostname + '/upload/', 'gm'),
        lnkRgxUfInf = new RegExp( 'https://' + location.hostname + '/useful-info/', 'gm');

 
    document.querySelectorAll('img').forEach( el => {
        if ( el.src.match( lnkRgxUpld ) ){
            el.src = el.src.replace( lnkRgxUpld, 'https://' + location.hostname + '/wp-content/uploads/upload'); 
        }               
    }) 

    document.querySelectorAll('a').forEach( el => {
        if ( el.href.match( lnkRgxUpld ) ){
            el.href = el.href.replace( lnkRgxUpld , 'https://' + location.hostname + '/wp-content/uploads/upload') 
        } 
        
        if ( el.href.match( lnkRgxUfInf ) ){
            el.href = el.href.replace( lnkRgxUfInf, 'https://' + location.hostname + '/wp-content/uploads/useful-info') 
        }  
    }) 
})

$('.master-objects-list-title').on('click', function() {
    if ( $(this).hasClass('master-objects-list-title-show') ) {
        $(this).removeClass('master-objects-list-title-show')
    } else {
        $('.master-objects-list-title').removeClass('master-objects-list-title-show');
        $(this).addClass('master-objects-list-title-show');
    }
}) 

$('.burger-button').on('click', e => {
    $('body').toggleClass('burger-enable');
})  

$('.objects-streets-wrap h3').on('click', function() {
    $(this).toggleClass('street-list-showed');
}) 

$('#menu-header-menu .menu-item a').on('touchstart', function( e ) {
    checkMenuItem(e);
}) 

$('.acts-year-title').on('click', function() {
    $(this).toggleClass('hide-list');
})  

function checkMenuItem(e) {
    if ( !$(e.target).parent().hasClass('menu-item-opened') && $(e.target).next().hasClass('sub-menu')  ) {
        e.preventDefault();
        $('#menu-header-menu .menu-item').removeClass('menu-item-opened');
        $(e.target).parent().addClass('menu-item-opened');
    }
}